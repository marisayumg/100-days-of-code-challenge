{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/marisagama/Documents/Code/GitHub/365-code-challenge/001-tenzies-game/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _objectSpread from\"/Users/marisagama/Documents/Code/GitHub/365-code-challenge/001-tenzies-game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/marisagama/Documents/Code/GitHub/365-code-challenge/001-tenzies-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React from\"react\";import styled from\"styled-components\";import Die from\"./Die\";import{nanoid}from\"nanoid\";import Confetti from\"react-confetti\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Game(props){var _React$useState=React.useState(allNewDice),_React$useState2=_slicedToArray(_React$useState,2),dice=_React$useState2[0],setDice=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),tenzies=_React$useState4[0],setTenzies=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),count=_React$useState6[0],setCount=_React$useState6[1];React.useEffect(function(){var allHeld=dice.every(function(die){return die.isHeld;});var firstValue=dice[0].value;var allSameValue=dice.every(function(die){return die.value===firstValue;});if(allHeld&&allSameValue){setTenzies(true);}},[dice]);// create a new die object\nfunction generateNewDice(){return{value:Math.ceil(Math.random()*6),isHeld:false,id:nanoid()};}// get 10 random numbers and push them to the array\nfunction allNewDice(){var newDice=[];for(var i=0;i<10;i++){newDice.push(generateNewDice());}return newDice;}// rolls new dice unless the dice was held\nfunction rollDice(){if(!tenzies){setDice(function(oldDice){return oldDice.map(function(die){return die.isHeld?die:generateNewDice();});});setCount(function(prevCount){return prevCount+=1;});}else{setTenzies(false);setDice(allNewDice);setCount(function(prevCount){return prevCount=0;});}}// holds the value of a clicked die\nfunction _holdDice(id){setDice(function(oldDice){return oldDice.map(function(die){return die.id===id?_objectSpread(_objectSpread({},die),{},{isHeld:!die.isHeld}):die;});});}var diceElements=dice.map(function(die){return/*#__PURE__*/_jsx(Die,{value:die.value,isHeld:die.isHeld,holdDice:function holdDice(){return _holdDice(die.id);}},die.id);});return/*#__PURE__*/_jsxs(Container,{children:[tenzies&&/*#__PURE__*/_jsx(Confetti,{}),tenzies?\"Congrats! But can you do it faster?\":\"Can you get 10 dice of the same number?\",/*#__PURE__*/_jsx(ContainerDice,{children:diceElements}),/*#__PURE__*/_jsx(RollButton,{onClick:rollDice,children:tenzies?\"New Game\":\"Roll\"}),/*#__PURE__*/_jsxs(Counter,{children:[\"Your tries: \",count]})]});}var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));var ContainerDice=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template: auto auto / repeat(5, 1fr);\\n  padding: 24px;\\n  gap: 24px;\\n\"])));var RollButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: none;\\n  background: black;\\n  color: white;\\n  padding: 16px 40px;\\n  cursor: pointer;\\n\"])));var Counter=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  left: 24px;\\n  bottom: 24px;\\n\"])));","map":{"version":3,"names":["React","styled","Die","nanoid","Confetti","Game","props","useState","allNewDice","dice","setDice","tenzies","setTenzies","count","setCount","useEffect","allHeld","every","die","isHeld","firstValue","value","allSameValue","generateNewDice","Math","ceil","random","id","newDice","i","push","rollDice","oldDice","map","prevCount","holdDice","diceElements","Container","div","ContainerDice","RollButton","button","Counter"],"sources":["/Users/marisagama/Documents/Code/GitHub/365-code-challenge/001-tenzies-game/src/components/Game.js"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport Die from \"./Die\";\nimport { nanoid } from \"nanoid\";\nimport Confetti from \"react-confetti\";\n\nexport default function Game(props) {\n  const [dice, setDice] = React.useState(allNewDice);\n  const [tenzies, setTenzies] = React.useState(false);\n  const [count, setCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const allHeld = dice.every((die) => die.isHeld);\n    const firstValue = dice[0].value;\n    const allSameValue = dice.every((die) => die.value === firstValue);\n\n    if (allHeld && allSameValue) {\n      setTenzies(true);\n    }\n  }, [dice]);\n\n  // create a new die object\n  function generateNewDice() {\n    return {\n      value: Math.ceil(Math.random() * 6),\n      isHeld: false,\n      id: nanoid(),\n    };\n  }\n\n  // get 10 random numbers and push them to the array\n  function allNewDice() {\n    const newDice = [];\n    for (let i = 0; i < 10; i++) {\n      newDice.push(generateNewDice());\n    }\n    return newDice;\n  }\n\n  // rolls new dice unless the dice was held\n  function rollDice() {\n    if (!tenzies) {\n      setDice((oldDice) =>\n        oldDice.map((die) => {\n          return die.isHeld ? die : generateNewDice();\n        })\n      );\n      setCount((prevCount) => (prevCount += 1));\n    } else {\n      setTenzies(false);\n      setDice(allNewDice);\n      setCount((prevCount) => (prevCount = 0));\n    }\n  }\n\n  // holds the value of a clicked die\n  function holdDice(id) {\n    setDice((oldDice) =>\n      oldDice.map((die) => {\n        return die.id === id ? { ...die, isHeld: !die.isHeld } : die;\n      })\n    );\n  }\n\n  const diceElements = dice.map((die) => (\n    <Die\n      key={die.id}\n      value={die.value}\n      isHeld={die.isHeld}\n      holdDice={() => holdDice(die.id)}\n    />\n  ));\n\n  return (\n    <Container>\n      {tenzies && <Confetti />}\n      {tenzies\n        ? \"Congrats! But can you do it faster?\"\n        : \"Can you get 10 dice of the same number?\"}\n      <ContainerDice>{diceElements}</ContainerDice>\n      <RollButton onClick={rollDice}>\n        {tenzies ? \"New Game\" : \"Roll\"}\n      </RollButton>\n      <Counter>Your tries: {count}</Counter>\n    </Container>\n  );\n}\n\nconst Container = styled.div``;\n\nconst ContainerDice = styled.div`\n  display: grid;\n  grid-template: auto auto / repeat(5, 1fr);\n  padding: 24px;\n  gap: 24px;\n`;\n\nconst RollButton = styled.button`\n  border: none;\n  background: black;\n  color: white;\n  padding: 16px 40px;\n  cursor: pointer;\n`;\n\nconst Counter = styled.div`\n  position: fixed;\n  left: 24px;\n  bottom: 24px;\n`;\n"],"mappings":"yjBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,IAAG,KAAM,OAAO,CACvB,OAASC,MAAM,KAAQ,QAAQ,CAC/B,MAAOC,SAAQ,KAAM,gBAAgB,CAAC,wFAEtC,cAAe,SAASC,KAAI,CAACC,KAAK,CAAE,CAClC,oBAAwBN,KAAK,CAACO,QAAQ,CAACC,UAAU,CAAC,oDAA3CC,IAAI,qBAAEC,OAAO,qBACpB,qBAA8BV,KAAK,CAACO,QAAQ,CAAC,KAAK,CAAC,qDAA5CI,OAAO,qBAAEC,UAAU,qBAC1B,qBAA0BZ,KAAK,CAACO,QAAQ,CAAC,CAAC,CAAC,qDAApCM,KAAK,qBAAEC,QAAQ,qBAEtBd,KAAK,CAACe,SAAS,CAAC,UAAM,CACpB,GAAMC,QAAO,CAAGP,IAAI,CAACQ,KAAK,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,MAAM,GAAC,CAC/C,GAAMC,WAAU,CAAGX,IAAI,CAAC,CAAC,CAAC,CAACY,KAAK,CAChC,GAAMC,aAAY,CAAGb,IAAI,CAACQ,KAAK,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACG,KAAK,GAAKD,UAAU,GAAC,CAElE,GAAIJ,OAAO,EAAIM,YAAY,CAAE,CAC3BV,UAAU,CAAC,IAAI,CAAC,CAClB,CACF,CAAC,CAAE,CAACH,IAAI,CAAC,CAAC,CAEV;AACA,QAASc,gBAAe,EAAG,CACzB,MAAO,CACLF,KAAK,CAAEG,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,CAAG,CAAC,CAAC,CACnCP,MAAM,CAAE,KAAK,CACbQ,EAAE,CAAExB,MAAM,EACZ,CAAC,CACH,CAEA;AACA,QAASK,WAAU,EAAG,CACpB,GAAMoB,QAAO,CAAG,EAAE,CAClB,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEA,CAAC,EAAE,CAAE,CAC3BD,OAAO,CAACE,IAAI,CAACP,eAAe,EAAE,CAAC,CACjC,CACA,MAAOK,QAAO,CAChB,CAEA;AACA,QAASG,SAAQ,EAAG,CAClB,GAAI,CAACpB,OAAO,CAAE,CACZD,OAAO,CAAC,SAACsB,OAAO,QACdA,QAAO,CAACC,GAAG,CAAC,SAACf,GAAG,CAAK,CACnB,MAAOA,IAAG,CAACC,MAAM,CAAGD,GAAG,CAAGK,eAAe,EAAE,CAC7C,CAAC,CAAC,GACH,CACDT,QAAQ,CAAC,SAACoB,SAAS,QAAMA,UAAS,EAAI,CAAC,EAAC,CAAC,CAC3C,CAAC,IAAM,CACLtB,UAAU,CAAC,KAAK,CAAC,CACjBF,OAAO,CAACF,UAAU,CAAC,CACnBM,QAAQ,CAAC,SAACoB,SAAS,QAAMA,UAAS,CAAG,CAAC,EAAC,CAAC,CAC1C,CACF,CAEA;AACA,QAASC,UAAQ,CAACR,EAAE,CAAE,CACpBjB,OAAO,CAAC,SAACsB,OAAO,QACdA,QAAO,CAACC,GAAG,CAAC,SAACf,GAAG,CAAK,CACnB,MAAOA,IAAG,CAACS,EAAE,GAAKA,EAAE,gCAAQT,GAAG,MAAEC,MAAM,CAAE,CAACD,GAAG,CAACC,MAAM,GAAKD,GAAG,CAC9D,CAAC,CAAC,GACH,CACH,CAEA,GAAMkB,aAAY,CAAG3B,IAAI,CAACwB,GAAG,CAAC,SAACf,GAAG,qBAChC,KAAC,GAAG,EAEF,KAAK,CAAEA,GAAG,CAACG,KAAM,CACjB,MAAM,CAAEH,GAAG,CAACC,MAAO,CACnB,QAAQ,CAAE,0BAAMgB,UAAQ,CAACjB,GAAG,CAACS,EAAE,CAAC,EAAC,EAH5BT,GAAG,CAACS,EAAE,CAIX,EACH,CAAC,CAEF,mBACE,MAAC,SAAS,YACPhB,OAAO,eAAI,KAAC,QAAQ,IAAG,CACvBA,OAAO,CACJ,qCAAqC,CACrC,yCAAyC,cAC7C,KAAC,aAAa,WAAEyB,YAAY,EAAiB,cAC7C,KAAC,UAAU,EAAC,OAAO,CAAEL,QAAS,UAC3BpB,OAAO,CAAG,UAAU,CAAG,MAAM,EACnB,cACb,MAAC,OAAO,2BAAcE,KAAK,GAAW,GAC5B,CAEhB,CAEA,GAAMwB,UAAS,CAAGpC,MAAM,CAACqC,GAAG,iEAAE,CAE9B,GAAMC,cAAa,CAAGtC,MAAM,CAACqC,GAAG,qKAK/B,CAED,GAAME,WAAU,CAAGvC,MAAM,CAACwC,MAAM,wKAM/B,CAED,GAAMC,QAAO,CAAGzC,MAAM,CAACqC,GAAG,yHAIzB"},"metadata":{},"sourceType":"module"}